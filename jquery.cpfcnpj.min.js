!function(n){function t(n){return null!=n.match(/^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/)&&u(n.substring(0,2),n.substring(3,6),n.substring(7,10),n.substring(11,15),n.substring(16,18))}function i(n){return null!=n.match(/^\d{3}\.\d{3}\.\d{3}\-\d{2}$/)&&l(n.substring(0,3),n.substring(4,7),n.substring(8,11),n.substring(12,14))}function a(n){return null!=n.match(/^\d{14}$/)&&u(n.substring(0,2),n.substring(2,5),n.substring(5,8),n.substring(8,12),n.substring(12,14))}function r(n){return null!=n.match(/^\d{11}$/)&&l(n.substring(0,3),n.substring(3,6),n.substring(6,9),n.substring(9,11))}function l(n,t,i,a){var r,l,u=!0;if(l=n+t+i+a,/^([0-9])\1+$/.test(l))return!1;s=l,c=s.substr(0,9);var e=s.substr(9,2),f=0;for(r=0;r<9;r++)f+=c.charAt(r)*(10-r);for(0==f&&(u=!1),(f=11-f%11)>9&&(f=0),e.charAt(0)!=f&&(u=!1),f*=2,r=0;r<9;r++)f+=c.charAt(r)*(11-r);return(f=11-f%11)>9&&(f=0),e.charAt(1)!=f&&(u=!1),u}function u(n,t,i,a,r){var l,u,e=!0;if(u=n+t+i+a+r,/^([0-9])\1+$/.test(u))return!1;s=u,c=s.substr(0,12);var f=s.substr(12,2),v=0;for(l=0;l<12;l++)v+=c.charAt(11-l)*(2+l%8);for(0==v&&(e=!1),(v=11-v%11)>9&&(v=0),f.charAt(0)!=v&&(e=!1),v*=2,l=0;l<12;l++)v+=c.charAt(11-l)*(2+(l+1)%8);return(v=11-v%11)>9&&(v=0),f.charAt(1)!=v&&(e=!1),e}var e=null;n.fn.cpfcnpj=function(s){var l=n.extend({mask:!1,validate:"cpfcnpj",event:"focusout",handler:n(this),ifValid:null,ifInvalid:null},s);if(l.mask)if(null==jQuery().mask)l.mask=!1,console.log("jQuery mask not found.");else if("cpf"==l.validate)n(this).mask("000.000.000-00");else if("cnpj"==l.validate)n(this).mask("00.000.000/0000-00");else{var u=n(this),c={onKeyPress:function(n){var t=["000.000.000-009","00.000.000/0000-00"];msk=n.length>14?t[1]:t[0],u.mask(msk,this)}};n(this).mask("000.000.000-009",c)}return this.each(function(){var s=null,u=n(this);n(document).on(l.event,l.handler,function(){if(0==l.mask?11==u.val().length||14==u.val().length?"cpf"==l.validate?s=r(u.val()):"cnpj"==l.validate?s=a(u.val()):"cpfcnpj"==l.validate&&(r(u.val())?(s=!0,e="cpf"):a(u.val())?(s=!0,e="cnpj"):s=!1):s=!1:14==u.val().length||18==u.val().length?"cpf"==l.validate?s=i(u.val()):"cnpj"==l.validate?s=t(u.val()):"cpfcnpj"==l.validate&&(i(u.val())?(s=!0,e="cpf"):t(u.val())?(s=!0,e="cnpj"):s=!1):s=!1,n.isFunction(l.ifValid))if(null!=s&&s){if(n.isFunction(l.ifValid)){var c=n.Callbacks();c.add(l.ifValid),c.fire(u)}}else n.isFunction(l.ifInvalid)&&l.ifInvalid(u)})})}}(jQuery);
