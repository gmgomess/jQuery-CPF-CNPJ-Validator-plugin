!function(a){function d(a){if(null!=a.match(/^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/)){var h,i,b=a.substring(0,2),d=a.substring(3,6),e=a.substring(7,10),f=a.substring(11,15),g=a.substring(16,18),j=!0;i=b+d+e+f+g,s=i,c=s.substr(0,12);var k=s.substr(12,2),l=0;for(h=0;h<12;h++)l+=c.charAt(11-h)*(2+h%8);for(0==l&&(j=!1),l=11-l%11,l>9&&(l=0),k.charAt(0)!=l&&(j=!1),l*=2,h=0;h<12;h++)l+=c.charAt(11-h)*(2+(h+1)%8);return l=11-l%11,l>9&&(l=0),k.charAt(1)!=l&&(j=!1),j}return!1}function e(a){if(null!=a.match(/^\d{3}\.\d{3}\.\d{3}\-\d{2}$/)){var g,h,b=a.substring(0,3),d=a.substring(4,7),e=a.substring(8,11),f=a.substring(12,14),i=!0;h=b+d+e+f,s=h,c=s.substr(0,9);var j=s.substr(9,2),k=0;for(g=0;g<9;g++)k+=c.charAt(g)*(10-g);for(0==k&&(i=!1),k=11-k%11,k>9&&(k=0),j.charAt(0)!=k&&(i=!1),k*=2,g=0;g<9;g++)k+=c.charAt(g)*(11-g);return k=11-k%11,k>9&&(k=0),j.charAt(1)!=k&&(i=!1),i}return!1}var b=null;a.fn.cpfcnpj=function(c){var f=a.extend({mask:!1,validate:"cpfcnpj",event:"focusout",handler:a(this),ifValid:null,ifInvalid:null},c);if(f.mask)if(null==jQuery().mask)f.mask=!1,console.log("jQuery mask not found.");else if("cpf"==f.validate)a(this).mask("000.000.000-00");else if("cnpj"==f.validate)a(this).mask("00.000.000/0000-00");else{var g=a(this),h={onKeyPress:function(a){var b=["000.000.000-009","00.000.000/0000-00"];msk=a.length>14?b[1]:b[0],g.mask(msk,this)}};a(this).mask("000.000.000-009",h)}return this.each(function(){var c=null,g=a(this);a(this).on(f.event,f.handler,function(){if(14==g.val().length||18==g.val().length?"cpf"==f.validate?c=e(g.val()):"cnpj"==f.validate?c=d(g.val()):"cpfcnpj"==f.validate&&(e(g.val())?(c=!0,b="cpf"):d(g.val())?(c=!0,b="cnpj"):c=!1):c=!1,a.isFunction(f.ifValid))if(null!=c&&c){if(a.isFunction(f.ifValid)){var h=a.Callbacks();h.add(f.ifValid),h.fire(g)}}else a.isFunction(f.ifInvalid)&&f.ifInvalid(g)})})}}(jQuery);
